<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE configuration><configuration scan="true" scanPeriod="60 seconds" debug="false">  <property name="APP_NAME" value="mqtt-server" />  <property name="LOG_PATH" value="${logback-path}" />	<!--控制台输出-->	<appender name="stdout" class="ch.qos.logback.core.ConsoleAppender">		<encoder>			<pattern>%date [%level] [%thread] %logger{20} [%file : %line] %msg%n</pattern>		</encoder>	</appender>       <!--文件输出-->	<appender name="AllLog"		class="ch.qos.logback.core.rolling.RollingFileAppender">				<file>${LOG_PATH}/${APP_NAME}/${APP_NAME}.log</file>	    <append>true</append>		<encoder>			<pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%logger{20}] [%thread] [%-5level] [%file : %line]|%msg%n</pattern>		</encoder>			<!--过滤日志级别 -->		 <filter class="ch.qos.logback.classic.filter.ThresholdFilter">            <level>DEBUG</level>        </filter>	     <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">            <!-- 非当天的Log文件压缩备份为 ${tomcat_home}/logs/gradevin.2014-11-24.zip -->            <fileNamePattern>${LOG_PATH}/${APP_NAME}/${APP_NAME}.%d{yyyy-MM-dd}.zip</fileNamePattern>            <!-- 超过15天的备份文件会被删除 -->            <maxHistory>15</maxHistory>        </rollingPolicy>	</appender>       <!--定时任务执行日志-->    <appender name="macAuthDetailAppend" class="ch.qos.logback.core.rolling.RollingFileAppender">            <file>${LOG_PATH}/${APP_NAME}/macAuthDetailLog.log</file>        <append>true</append>		<encoder>			<pattern>%d{yyyy-MM-dd HH:mm:ss} [%logger{20}] [%thread] [%-5level] %m%n</pattern>		</encoder>        <filter class="ch.qos.logback.classic.filter.ThresholdFilter">            <level>DEBUG</level>        </filter>	     <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">            <!-- 非当天的Log文件压缩备份为 ${tomcat_home}/logs/gradevin.2014-11-24.zip -->            <fileNamePattern>${LOG_PATH}/${APP_NAME}/macAuthDetailLog.%d{yyyy-MM-dd}.zip</fileNamePattern>            <!-- 超过15天的备份文件会被删除 -->            <maxHistory>15</maxHistory>        </rollingPolicy>    </appender>	<!--app 上传简易日志　-->	<appender name="appSimpleLogAppend" class="ch.qos.logback.core.rolling.RollingFileAppender">		<file>${LOG_PATH}/${APP_NAME}/appSimpleLog.log</file>		<append>true</append>		<encoder>			<pattern>%d{yyyy-MM-dd HH:mm:ss} [%logger{20}] [%thread] [%-5level] %m%n</pattern>		</encoder>		<filter class="ch.qos.logback.classic.filter.ThresholdFilter">			<level>DEBUG</level>		</filter>		<rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">			<!-- 非当天的Log文件压缩备份为 ${tomcat_home}/logs/gradevin.2014-11-24.zip -->			<fileNamePattern>${LOG_PATH}/${APP_NAME}/appSimpleLog.%d{yyyy-MM-dd}.zip</fileNamePattern>			<!-- 超过15天的备份文件会被删除 -->			<maxHistory>15</maxHistory>		</rollingPolicy>	</appender>    <!-- 错误日志 -->	<appender name="ERROR" class="ch.qos.logback.core.rolling.RollingFileAppender">		<rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">			<fileNamePattern>${LOG_PATH}/${APP_NAME}/${APP_NAME}-error.log.%d{yyyy-MM-dd}</fileNamePattern>		</rollingPolicy>		<encoder>			<pattern>%d{yyyy-MM-dd HH:mm:ss.SSS}|[%level] [%thread] %logger{20} [%file : %line]|%msg%n</pattern>		</encoder>		<rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">			<!-- 非当天的Log文件压缩备份为 ${tomcat_home}/logs/gradevin.2014-11-24.zip -->			<fileNamePattern>${LOG_PATH}/${APP_NAME}/${APP_NAME}-error.%d{yyyy-MM-dd}.zip</fileNamePattern>			<!-- 超过15天的备份文件会被删除 -->			<maxHistory>15</maxHistory>		</rollingPolicy>	</appender>	<!-- 接口提供方访问日志 -->	<appender name="PROVIDER" class="ch.qos.logback.core.rolling.RollingFileAppender">		<rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">			<fileNamePattern>${LOG_PATH}/${APP_NAME}/${APP_NAME}-provider.log.%d{yyyy-MM-dd}</fileNamePattern>		</rollingPolicy>		<encoder>			<pattern>%d{yyyy-MM-dd HH:mm:ss.SSS}|[%level] [%thread] %logger{20} [%file : %line]|%msg%n</pattern>		</encoder>		<rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">			<!-- 非当天的Log文件压缩备份为 ${tomcat_home}/logs/gradevin.2014-11-24.zip -->			<fileNamePattern>${LOG_PATH}/${APP_NAME}/${APP_NAME}-provider.%d{yyyy-MM-dd}.zip</fileNamePattern>			<!-- 超过15天的备份文件会被删除 -->			<maxHistory>15</maxHistory>		</rollingPolicy>	</appender>	<!-- 云平台接口访问日志 -->	<appender name="CONSUMER" class="ch.qos.logback.core.rolling.RollingFileAppender">		<rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">			<fileNamePattern>${LOG_PATH}/${APP_NAME}/${APP_NAME}-consumer.log.%d{yyyy-MM-dd}</fileNamePattern>		</rollingPolicy>		<encoder>			<pattern>%d{yyyy-MM-dd HH:mm:ss.SSS}|[%level] [%thread] %logger{20} [%file : %line]|%msg%n</pattern>		</encoder>		<rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">			<!-- 非当天的Log文件压缩备份为 ${tomcat_home}/logs/gradevin.2014-11-24.zip -->			<fileNamePattern>${LOG_PATH}/${APP_NAME}/${APP_NAME}-consumer.%d{yyyy-MM-dd}.zip</fileNamePattern>			<!-- 超过15天的备份文件会被删除 -->			<maxHistory>15</maxHistory>		</rollingPolicy>	</appender>    	<logger name="ERROR_LOGGER" level="WARN" additivity="false">      	<appender-ref ref="ERROR"/>  	</logger>  	<logger name="PROVIDER_LOGGER" level="INFO" additivity="false">      	<appender-ref ref="PROVIDER"/>  	</logger>	<logger name="MacAuthDetailLogger" level="INFO" additivity="false">		<appender-ref ref="macAuthDetailAppend" />	</logger>    <!-- app 上传的简易log -->	<logger name="AppSimpleLogger" level="INFO" additivity="false">		<appender-ref ref="appSimpleLogAppend" />	</logger><!--     <logger name="noModule" level="FATAL" /> -->    <logger name="com.ibatis" level="ERROR" />    <logger name="com.ibatis.sqlmap.engine.impl.SqlMapClientDelegate" level="ERROR" />    <logger name="com.ibatis.common.jdbc.SimpleDataSource" level="ERROR" />    <logger name="com.ibatis.common.jdbc.ScriptRunner" level="ERROR" />    <logger name="java.sql.PreparedStatement" level="ERROR" />    <logger name="java.sql.Statement" level="ERROR" />    <logger name="java.sql.ResultSet" level="ERROR" />    <logger name="java.sql.Connection" level="ERROR" />    <logger name="com.haier.uhome" level="INFO" />    <logger name="org.apache" level="WARN" />	<logger name="org.apache.http.wire" level="trace" additivity="false">		<appender-ref ref="CONSUMER"/>	</logger>	<root level="INFO">		<appender-ref ref="stdout" />		<appender-ref ref="AllLog" />	</root></configuration>  